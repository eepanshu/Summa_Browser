<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SummaBrowse - PDF/Image Summarizer</title>
  <style>
    /* General Styles */
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--background-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
    }

    h1, h2 {
      color: var(--heading-color);
    }

    a {
      color: var(--link-color);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 10px 0;
    }

    /* Navbar */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: var(--navbar-bg-color);
      padding: 10px 20px;
      color: var(--navbar-text-color);
    }

    .navbar .logo {
      font-size: 24px;
      font-weight: bold;
    }
    .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
     .upload-section {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            border: 2px dashed #ccc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
    .navbar .nav-links {
      display: flex;
      gap: 20px;
    }
    .upload-section:hover {
            border-color: #007bff;
            background-color: #f8f9fa;
        }

        .upload-section input[type="file"] {
            display: none;
        }

        .upload-section label {
            cursor: pointer;
            display: block;
        }

        .upload-section i {
            font-size: 3rem;
            color: #007bff;
            margin-bottom: 1rem;
        }

        .results {
            display: none;
            margin-top: 2rem;
        }

        .result-section {
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 8px;
        }

        .result-section h2 {
            color: #333;
            margin-bottom: 1rem;
        }

        .result-section p {
            color: #666;
            line-height: 1.6;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 2rem 0;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #007bff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            color: #dc3545;
            text-align: center;
            margin: 1rem 0;
            display: none;
        }

    .navbar .nav-links li {
      display: inline;
    }

    .navbar .theme-toggle {
      display: flex;
      align-items: center;
    }

    .theme-toggle .switch {
      position: relative;
      display: inline-block;
      width: 34px;
      height: 20px;
      margin-left: 10px;
    }

    .theme-toggle .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .theme-toggle .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: 0.4s;
      border-radius: 20px;
    }

    .theme-toggle .slider:before {
      position: absolute;
      content: "";
      height: 14px;
      width: 14px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.4s;
      border-radius: 50%;
    }

    .theme-toggle .switch input:checked + .slider {
      background-color: #007bff;
    }

    .theme-toggle .switch input:checked + .slider:before {
      transform: translateX(14px);
    }

    /* Main Content */
    .content {
      padding: 20px;
      text-align: center;
    }

    .content section {
      margin-bottom: 40px;
    }

    .content .steps {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }

    .content .steps div {
      width: 22%;
      background-color: #ffffff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .content .steps div h3 {
      font-size: 18px;
      margin-bottom: 10px;
    }

    .content .steps div p {
      font-size: 14px;
      color: #555;
    }

    /* Footer */
    footer {
      background-color: #f1f1f1;
      padding: 20px;
      text-align: center;
      font-size: 14px;
      color: #666;
    }

    footer a {
      color: #007bff;
      margin: 0 10px;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* Theme Variables */
    :root {
      --background-color: #ffffff;
      --text-color: #000000;
      --heading-color: #333333;
      --link-color: #007bff;
      --navbar-bg-color: #007bff;
      --navbar-text-color: #ffffff;
    }

    body.dark-mode {
      --background-color: #121212;
      --text-color: #ffffff;
      --heading-color: #ffffff;
      --link-color: #1e88e5;
      --navbar-bg-color: #1e88e5;
      --navbar-text-color: #ffffff;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo">SummaBrowse</div>
    <ul class="nav-links">
      <li><a href="#home">Home</a></li>
      <li><a href="#features">Features</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
    <div class="theme-toggle">
      <span id="themeLabel">Light Mode</span>
      <label class="switch">
        <input type="checkbox" id="themeToggle">
        <span class="slider"></span>
      </label>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="content">
    <section id="home">
      <h1>Welcome to SummaBrowse</h1>
      <p>Your one-stop solution for summarizing PDFs and images. Upload your files and get concise summaries in seconds!</p>
    </section>
    <div class="upload-section">
        <input type="file" id="fileInput" accept="image/*,application/pdf">
        <label for="fileInput">
            <i class="fas fa-cloud-upload-alt"></i>
            <p>Click to upload an image or PDF, or drag and drop</p>
            <p style="font-size: 0.8rem; color: #666;">Supported formats: PNG, JPG, JPEG, PDF</p>
        </label>
    </div>

    <div class="error" id="error"></div>

    <div class="loading">
        <div class="loading-spinner"></div>
        <p>Processing your file...</p>
    </div>

    <div class="results" id="results">
        <div class="result-section">
            <h2>Extracted Text</h2>
            <p id="extractedText"></p>
        </div>
        <div class="result-section">
            <h2>Summary</h2>
            <p id="summary"></p>
        </div>
        <div class="result-section">
            <a id="downloadLink" href="#" download="summary.txt" style="display: none;">Download Summary</a>
        </div>
    </div>
</div>


    <section id="upload">
      <h2>How to Use This Summarizer</h2>
      <div class="steps">
        <div>
          <h3>1. Upload Your File</h3>
          <p>Insert, paste, or upload your PDF or image file.</p>
        </div>
        <div>
          <h3>2. Process the File</h3>
          <p>Our AI processes your file and extracts the key points.</p>
        </div>
        <div>
          <h3>3. Adjust Summary</h3>
          <p>Customize the summary length to suit your needs.</p>
        </div>
        <div>
          <h3>4. Download Summary</h3>
          <p>Get your summary in seconds and download it as a text file.</p>
        </div>
      </div>
    </section>

    <section id="features">
      <h2>Why Use This Summarizer?</h2>
      <ul>
        <li><strong>100% Free:</strong> Generate unlimited summaries without paying a penny.</li>
        <li><strong>Accurate:</strong> Get reliable and trustworthy summaries.</li>
        <li><strong>Secure:</strong> No data is stored, ensuring your privacy.</li>
        <li><strong>Fast:</strong> Get summaries within seconds, thanks to AI.</li>
        <li><strong>Flexible:</strong> Adjust summary length to get more or less detail.</li>
      </ul>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <p>
      <a href="#terms">Terms of Use</a> |
      <a href="#cookies">Cookie Preferences</a> |
      <a href="#privacy">Privacy Policy</a> |
      <a href="#happiness">Happiness Guarantee</a>
    </p>
    <p>&copy; 2025 SummaBrowse. All rights reserved.</p>
  </footer>


  <script>
    const uploadSection = document.querySelector('.upload-section');
    const fileInput = document.getElementById('fileInput');
    const loading = document.querySelector('.loading');
    const results = document.getElementById('results');
    const error = document.getElementById('error');
    const extractedText = document.getElementById('extractedText');
    const summary = document.getElementById('summary');
    const downloadLink = document.getElementById('downloadLink');

    // Handle drag and drop
    uploadSection.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadSection.style.borderColor = '#007bff';
    });

    uploadSection.addEventListener('dragleave', () => {
        uploadSection.style.borderColor = '#ccc';
    });

    uploadSection.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadSection.style.borderColor = '#ccc';
        const file = e.dataTransfer.files[0];
        if (file && (file.type.startsWith('image/') || file.type === 'application/pdf')) {
            handleFile(file);
        } else {
            showError("Unsupported file type. Please upload an image or PDF.");
        }
    });

    fileInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
            handleFile(file);
        }
    });

    function handleFile(file) {
        const formData = new FormData();
        formData.append('file', file);

        // Show loading, hide results and error
        loading.style.display = 'block';
        results.style.display = 'none';
        error.style.display = 'none';

        fetch('/process', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.error) {
                throw new Error(data.error);
            }
            
            // Display results
            extractedText.textContent = data.extracted_text;
            summary.textContent = data.summary;
            downloadLink.href = data.download_url;
            downloadLink.style.display = 'block';
            results.style.display = 'block';
        })
        .catch(err => {
            showError(err.message);
        })
        .finally(() => {
            loading.style.display = 'none';
        });
    }

    function showError(message) {
        error.textContent = message;
        error.style.display = 'block';
    }

  // Dark/Light Mode Toggle
  const themeToggle = document.getElementById("themeToggle");
  const themeLabel = document.getElementById("themeLabel");
  
  themeToggle.addEventListener("change", () => {
    document.body.classList.toggle("dark-mode");
    themeLabel.textContent = document.body.classList.contains("dark-mode")
      ? "Dark Mode"
      : "Light Mode";
  });
  </script>
</body>
</html>

